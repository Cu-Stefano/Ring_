<Window x:Class="WpfUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WpfUI"
        mc:Ignorable="d"
        FontFamily="Verdana"
        FontSize="10pt"     
        Title="CU's RPG" Height="1080" Width="1920">
    <!-- STILI -->
    <Window.Resources>

        <!-- White Button Style -->
        <Style TargetType="Button" x:Key="WhiteButtonStyle">
            <Setter Property="Foreground" Value="#FF232A4E"/>
            <Setter Property="Background" Value="#FFF3E9E9"/>
            <Setter Property="FontFamily" Value="Microsoft YaHei UI"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="BorderBrush" Value="#FFB7A6A6"/>
            <Setter Property="Margin" Value="6,12,5,12"/>

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="4"
                                CornerRadius="10"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="HorizontalAlignment" Value="Center" />
            <Setter Property="Width" Value="92" />
            <Setter Property="VerticalAlignment" Value="Top" />
        </Style>

        <!-- Blue Button Style -->
        <Style TargetType="Label" x:Key="BluLabelStyle">
            <Setter Property="FontFamily" Value="Microsoft YaHei UI"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Padding" Value="25,5,5,5"/>
            <Setter Property="Foreground" Value="#FFF3E9E9"/>
            <Setter Property="FontWeight" Value="DemiBold"/>
        </Style>

        <BooleanToVisibilityConverter x:Key="BooleanToVisibility" />

    </Window.Resources>

    <!--THE GRID-->
    <Grid Background="#FFEFEBEB">
        <Grid.RowDefinitions>
            <RowDefinition Height="630"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="380"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Player Grid -->
        <Border Grid.Row="0" Grid.Column="0"
                BorderBrush="#FFEFEBEB"
                Margin="10,10,10,10"
                Background="#FF2F3C7E"
                BorderThickness="5" CornerRadius="20,20,20,20">

            <!-- Player Grid -->
            <Grid x:Name="BlueGrid" Background="#FF2F3C7E" Margin="10,10,10,10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Label Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="NAME :" FontSize="15" Padding="5,5,5,5" />
                <Label Grid.Column="0" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Name, FallbackValue=''}" Margin="63,0,0,0"
                       RenderTransformOrigin="0.056,0.819" Width="102" Padding="6,5,5,5" />

                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="CLASS :"
                       FontSize="13" Padding="5,5,5,5" />
                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Class.ClassName, FallbackValue=''}" Margin="63,0,0,0" Width="102" Padding="6,5,5,5" />

                <Label Grid.Row="0" Grid.Column="1" Style="{StaticResource BluLabelStyle}" Content="LEVEL :" Margin="48,-5,0,0"
                       VerticalAlignment="Top" FontSize="12" />
                <Label Grid.Row="0" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Level, FallbackValue=''}" Margin="120,-3,0,0"
                       VerticalAlignment="Top" FontSize="10" Height="20" Width="40" Padding="5,5,5,5" />

                <Label Grid.Row="0" Grid.Column="1" Style="{StaticResource BluLabelStyle}" Content="MOVE :" Margin="48,18,0,0"
                       VerticalAlignment="Top" FontSize="12" />
                <Label Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Move, FallbackValue=''}" Margin="120,20,0,0" Grid.Row="0"
                       Grid.Column="1"
                       VerticalAlignment="Top" FontSize="10" Padding="5,5,5,5" />


                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="STRENGTH :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="2" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Strength, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />

                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="MAGIC :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="3" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Magic, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />

                <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="SKILL :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="4" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Skill, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />

                <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="SPEED :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="5" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Speed, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />

                <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="LUCK :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="6" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Luck, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />

                <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="DEFENSE :"
                       FontSize="11" Margin="0,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="7" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Defense, FallbackValue=''}" Margin="95,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="2" Grid.Column="0" />


                <Label Grid.Row="8" Style="{StaticResource BluLabelStyle}" Content="Attack :" FontSize="11"
                       Margin="176,7,0,0" VerticalAlignment="Top" Grid.ColumnSpan="2" Grid.Column="0" />
                <Label Grid.Row="8" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Attack, FallbackValue=''}" Margin="81,6,0,0"
                       RenderTransformOrigin="2.217,-3.903" VerticalAlignment="Top" FontSize="12" Padding="5,5,5,5" />

                <Label Grid.Row="10" Style="{StaticResource BluLabelStyle}" Content="Hit :" FontSize="11"
                       Margin="176,0,0,0" Grid.ColumnSpan="2" Grid.Column="0" />
                <Label Grid.Row="10" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Hit, FallbackValue=''}" Margin="81,0,0,0"
                       RenderTransformOrigin="2.083,0.497" FontSize="12" Padding="5,5,5,5" />

                <Label Grid.Row="9" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="Dodge :"
                       FontSize="11" Margin="176,0,0,0" Grid.ColumnSpan="2" />
                <Label Grid.Row="9" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Dodge, FallbackValue=''}" Margin="81,0,0,0" FontSize="12"
                       Padding="5,5,5,5" />

                <Label Grid.Row="11" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="Critic :"
                       FontSize="11" Margin="176,6,0,0" VerticalAlignment="Top" Grid.ColumnSpan="2" />
                <Label Grid.Row="11" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Critic, FallbackValue=''}" Margin="81,5,0,0"
                       VerticalAlignment="Top" FontSize="12" Padding="5,5,5,5" />


                <Label Grid.Row="11" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="RESISTANCE :"
                       Margin="0,226,0,0" Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="11" Grid.Column="1" Style="{StaticResource BluLabelStyle}" FontWeight="Medium"
                       Content="{Binding CurrentUnit.Statistics.Resistance, FallbackValue=''}" Margin="2,235,0,0"
                       Grid.RowSpan="2" VerticalAlignment="Top" />
                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource BluLabelStyle}" Content="WEAPONS :"
                       FontSize="11" Margin="141,23,0,0" Grid.RowSpan="2" VerticalAlignment="Top" Grid.ColumnSpan="2" />
                <Label Grid.Row="2" Style="{StaticResource BluLabelStyle}" FontWeight="Medium" Margin="71,23,0,0"
                       VerticalAlignment="Top" FontSize="12" Grid.RowSpan="3" Grid.Column="1" Height="111">
                    <TextBlock>
                        <Run Text="{Binding ClassWeapons, FallbackValue=''}"/>
                    </TextBlock>
                </Label>

            </Grid>
        </Border>

        <!--World Grid -->
        <Grid  Grid.Row="0" Grid.Column="1" Background="#FFEFEBEB">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="1014*"/>
                <ColumnDefinition Width="517*"/>
            </Grid.ColumnDefinitions>

            <!--Tile Map screen-->
            <Border Grid.Row="0" Grid.Column="0" 
                    BorderBrush="#FFF7F7F7"
                    Margin="10,15,520,15"
                    Background="#FFF7F7F7"
                    BorderThickness="2" CornerRadius="20,20,20,20" Grid.RowSpan="2" Grid.ColumnSpan="2">

                <ContentControl x:Name="MapBuilderPlaceholder" Margin="10,10,0,10" HorizontalAlignment="Left" Width="1028" />
            </Border>

            <Border Grid.Row="0" Grid.Column="1"
                    BorderBrush="#FFF7F7F7"
                    Margin="10,10,10,10"
                    Background="#FFF7F7F7"
                    BorderThickness="2" CornerRadius="20,20,20,20">

                <Grid Margin="3">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0"
                               Padding="10"
                               HorizontalAlignment="Center"
                               Text="{Binding CurrentTile.TileName}"/>

                    <Image Grid.Row="1"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Height="Auto"
                           Width="Auto"
                           Source="{Binding CurrentLocation.ImageName}"/>

                    <TextBlock Grid.Row="2"
                               Padding="10"
                               HorizontalAlignment="Center"
                               Text="{Binding CurrentTile.Walkable}"/>
                </Grid>

            </Border>

            <Border Grid.Row="1" Grid.Column="1"
                    BorderBrush="#FFF7F7F7"
                    Margin="10,10,10,10"
                    Background="#FFF7F7F7"
                    BorderThickness="2" CornerRadius="20,20,20,20">
            </Border>

        </Grid>

        <!--Inventroy Grid -->
        <Border Grid.Row="1" Grid.Column="0"
                BorderBrush="#FFEFEBEB"
                Background="#FFF3EACE"
                BorderThickness="5" CornerRadius="20,20,20,20" Margin="10,10,10,10">

            <Border.Resources>
                <!-- Stile per il TextBlock -->
                <Style TargetType="TextBlock">
                    <Setter Property="FontFamily" Value="Microsoft YaHei" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Foreground" Value="#FF232A4E" />
                    <Setter Property="Padding" Value="5,5,5,5" />
                </Style>

                <!-- Stile per il TabControl -->
                <Style TargetType="TabControl">
                    <Setter Property="FontFamily" Value="Microsoft YaHei" />
                    <Setter Property="FontSize" Value="15" />
                    <Setter Property="Foreground" Value="#FF232A4E" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabControl">
                                <Grid>
                                    <!-- Contenitore del TabControl -->
                                    <Border Background="#FFF3EACE">
                                        <DockPanel>
                                            <!-- Intestazioni del TabControl -->
                                            <TabPanel
                                                DockPanel.Dock="Top"
                                                Background="#FFF3EACE"
                                                KeyboardNavigation.TabIndex="1"
                                                IsItemsHost="True"
                                                Margin="0" />

                                            <!-- Contenuto selezionato -->
                                            <ContentPresenter
                                                ContentSource="SelectedContent"
                                                Margin="10" />
                                        </DockPanel>
                                    </Border>
                                </Grid>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>

                <!-- Stile per il TabItem -->
                <Style TargetType="TabItem">
                    <Setter Property="FontWeight" Value="SemiBold" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="TabItem">
                                <Border
                                    Name="Border"
                                    CornerRadius="10,10,10,10"
                                    BorderBrush="white" 
                                    BorderThickness="4,4,4,0"
                                    Background="White"
                                    Padding="10"
                                    Margin="5, 0, 0 ,0">
                                    <ContentPresenter
                                        VerticalAlignment="Center"
                                        HorizontalAlignment="Center"
                                        ContentSource="Header" />
                                </Border>
                                <ControlTemplate.Triggers>
                                    <!-- Cambia colore quando il TabItem è selezionato -->
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter TargetName="Border" Property="Background" Value="#FFF3EACE" />
                                        <Setter TargetName="Border" Property="BorderBrush" Value="#FFFDF7E4" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Border.Resources>

            <!-- TabControl con TabItem -->
            <TabControl Margin="6,9,10,6">
                <TabItem Header="Inventory" Width="107" >
                    <DataGrid ItemsSource="{Binding CurrentUnit.Inventory}" AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Description"
                                                Binding="{Binding Name}"
                                                Width="*"/>
                            <DataGridTextColumn Header="Price"
                                                Binding="{Binding Price}"
                                                Width="auto"/>
                        </DataGrid.Columns>

                    </DataGrid>
                </TabItem>

                <TabItem Header="Quests" Width="107" >
                    <DataGrid ItemsSource="{Binding CurrentUnit.Quests}" AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Name"
                                                Binding="{Binding PlayerQuest.Name}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Done?"
                                                Binding="{Binding IsCompleted}"
                                                Width="auto"/>
                        </DataGrid.Columns>

                    </DataGrid>
                </TabItem>
            </TabControl>

        </Border>

        <!--Combat/Movement Grid -->
        <Border Grid.Row="1" Grid.Column="1"
                BorderBrush="#FFEFEBEB"
                Background="#FF2F3C7E"
                BorderThickness="5" CornerRadius="20,20,20,20" Margin="10,10,10,10">

            <Border.Resources>
                <!-- Stile per il TextBlock -->
                <Style TargetType="TextBlock">
                    <Setter Property="FontFamily" Value="Microsoft YaHei" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Foreground" Value="#FF232A4E" />
                    <Setter Property="Padding" Value="5,5,5,5" />
                </Style>

                <!-- Stile per il TextBlock -->
                <Style TargetType="Label">
                    <Setter Property="FontFamily" Value="Microsoft YaHei" />
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Foreground" Value="#FF232A4E" />
                    <Setter Property="Padding" Value="5,5,5,5" />
                </Style>
            </Border.Resources>

            <!-- Down Blue Grid -->
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="500*"/>
                    <ColumnDefinition Width="250*"/>
                </Grid.ColumnDefinitions>

                <Label Grid.Column="0" Grid.Row="0" Content="Combat/Movement Controls" Padding="10" Background="#FF2F3C7E" 
                       Foreground="#FFF3E9E9" BorderBrush="Black" FontSize="15" FontFamily="Microsoft YaHei" FontWeight="Bold" Grid.RowSpan="2" Margin="50,5,0,0"/>

                <!-- Movement Grid -->
                <Grid Grid.Column="1" Grid.Row="0" Grid.RowSpan="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- UP -->
                    <Button Style="{StaticResource WhiteButtonStyle}" Grid.Column="1" Content="↑"
                            Click="OnClick_MoveUp"
                            Visibility="{Binding IsThereLocationUp, Converter={StaticResource BooleanToVisibility}}"
                            Padding="20,20,20,20" FontSize="30" VerticalAlignment="Center" Margin="10,10,10,10">
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="9" Opacity="0.5" RenderingBias="Quality"/>
                        </Button.Effect>
                    </Button>


                    <!-- DOWN -->
                    <Button Style="{StaticResource WhiteButtonStyle}" Grid.Row="2" Grid.Column="1" Content="↓"
                            Click="OnClick_MoveDown"
                            Visibility="{Binding IsThereLocationDown, Converter={StaticResource BooleanToVisibility}}"
                            Padding="20,20,20,20"
                            FontSize="30" VerticalAlignment="Center" Margin="10,10,10,10">
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="9" Opacity="0.5" RenderingBias="Quality" />
                        </Button.Effect>

                    </Button>

                    <!-- LEFT -->
                    <Button Style="{StaticResource WhiteButtonStyle}" Grid.Row="1" Grid.Column="0" Content="←"
                            Click="OnClick_MoveLeft"
                            Visibility="{Binding IsThereLocationLeft, Converter={StaticResource BooleanToVisibility}}"
                            Padding="20,20,20,20" FontSize="30" Margin="10,10,10,10" VerticalAlignment="Center">
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="9" Opacity="0.5" RenderingBias="Quality" />
                        </Button.Effect>
                    </Button>

                    <!-- RIGHT -->
                    <Button Style="{StaticResource WhiteButtonStyle}" Grid.Row="1" Grid.Column="2" Content="→"
                            Click="OnClick_MoveRight"
                            Visibility="{Binding IsThereLocationRight, Converter={StaticResource BooleanToVisibility}}"
                            Padding="20,20,20,20" Margin="10,10,10,10" FontSize="30" VerticalAlignment="Center">
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="9" Opacity="0.5" RenderingBias="Quality" />
                        </Button.Effect>
                    </Button>


                </Grid>

            </Grid>

        </Border>

    </Grid>

</Window>